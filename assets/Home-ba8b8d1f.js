import{j as e,b as x,u as f,r as n,L as h}from"./index-f0272787.js";import{P as o,E as j,a as b}from"./Error-c3e8783a.js";const u=({id:i,title:s,name:r,poster_path:a,location:t})=>e.jsx("li",{className:"h-full w-full p-1 rounded-lg border-black shadow-md shadow-blue-500 transition-transform hover:scale-[1.02]",children:e.jsxs(x,{to:`/movies/${i}`,state:{from:t},className:"h-full w-full",children:[a&&e.jsx("img",{src:`https://image.tmdb.org/t/p/w300/${a}`,alt:`${s??r}`,className:"rounded-xl object-cover"}),e.jsx("p",{children:s??r})]})});u.propTypes={id:o.number.isRequired,title:o.string,name:o.string,poster_path:o.string.isRequired,location:o.object.isRequired};const g=({moviesList:i,location:s})=>e.jsx("ul",{className:"mx-auto grid grid-cols-2 gap-6 pl-1 pr-4 sm:grid-cols-3 md:grid-cols-5 xl:grid-cols-7",children:i.map(({id:r,title:a,name:t,poster_path:c})=>e.jsx(u,{id:r,title:a,name:t,poster_path:c,location:s},r))});g.propTypes={location:o.object.isRequired,moviesList:o.array.isRequired};const y=()=>{const i=f(),[s,r]=n.useState([]),[a,t]=n.useState(!1),[c,d]=n.useState(!1);return n.useEffect(()=>{const m=new AbortController;async function p(){try{t(!0),d(!1);const l=await b(m.signal);r(l),t(!1)}catch(l){l&&l.message!=="canceled"&&(t(!1),d(!0))}}return p(),()=>{m.abort()}},[]),e.jsxs("main",{children:[e.jsx("h2",{className:"text-lg text-center pb-3",children:"Trending today"}),a&&e.jsx(h,{}),c&&e.jsx(j,{errorText:"Something went wrong. Please, try reloading the page."}),s.length!==0&&e.jsx(g,{moviesList:s,location:i})]})};export{y as default};
